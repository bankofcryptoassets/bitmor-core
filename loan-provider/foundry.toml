# Fast development profile (default) - NO model checker
[profile.default]
src = "src"
out = "forge-out"
libs = ["node_modules", "lib"]
optimizer = true
optimizer_runs = 200
sizes = true
fs_permissions = [
    { access = "read", path = "./broadcast" },
    { access = "read", path = "./reports" },
    { access = "read", path = "../lending-pool/deployed-contracts.json" },
    { access = "read-write", path = "./deployments.json" }
]
cbor_metadata = true

[etherscan]
base_sepolia = { key = "${ETHERSCAN_KEY}", chain = 84532 }


# Security analysis profile - WITH model checker (use: FOUNDRY_PROFILE=security forge build)
[profile.security]
src = "contracts"
out = "forge-out"
libs = ["node_modules", "lib"]
optimizer = true
optimizer_runs = 200

[profile.security.model_checker]
contracts = {}  # For specific contracts: { "src/Contract.sol" = ["Contract"] }
engine = 'chc'
timeout = 30000  # Increased timeout
targets = ['assert', 'underflow', 'overflow', 'divByZero']

# Compiler optimizations for mixed version setup
auto_detect_solc = true  # Let Foundry handle version selection
solc_version = "0.8.30"  # Default version, overridden per file as needed

# Network configurations
[rpc_endpoints]
mainnet = "${MAINNET_RPC_URL}"
base = "${BASE_RPC_URL}"
base_sepolia = "${BASE_SEPOLIA_RPC_URL}"

